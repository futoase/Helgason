function postMessage(a){var b=io.connect(frontEnvironment.origin(a));b.on("send-message",function(a){$("#message").append((a.status.basic===!0?"is basic auth":"no basic auth")+" "+a.status.method+" "+JSON.stringify(a.message)),$("#message").append($("<br/>"))}),b.on("set-basic-auth",function(){$("#message").append("Setting basic authorization.").append($("<br/>"))})}var frontEnvironment={protocol:window.location.protocol,hostname:window.location.hostname,port:window.location.port,origin:function(){var a=frontEnvironment.protocol+"//"+frontEnvironment.hostname;return""!==frontEnvironment.port&&(a+=":"+frontEnvironment.port),a}},socketIoJs={addPort:frontEnvironment.origin()+"/socket.io/socket.io.js",noPort:frontEnvironment.origin()+"/socket.io.socket.io.js"};$.get(socketIoJs.addPort).done(function(){$.getScript(socketIoJs.addPort).done(function(){postMessage({usePort:!0})})}).fail(function(){$.get(socketIoJs.noPort).done(function(){$.getScript(socketIoJs.noPort).done(function(){postMessage({usePort:!1})})}).fail(function(){alert("socket.io loaded error...")})}),$(function(){$("span.host-name").text(frontEnvironment.origin())});